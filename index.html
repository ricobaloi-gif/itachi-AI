<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TradeBot Command Core</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">

<style>

/* =============================
GLOBAL
============================= */

body{
    margin:0;
    font-family:Poppins,sans-serif;
    background:black;
    color:white;
    overflow:hidden;
}

/* Cosmic Red Aura Pulse */

body::before{
    content:"";
    position:fixed;
    inset:0;
    pointer-events:none;

    animation:auraPulse 8s ease-in-out infinite;

    box-shadow:
    inset 0 0 180px rgba(255,0,0,.35),
    inset 0 0 260px rgba(255,0,0,.2);
}

@keyframes auraPulse{
    0%,100%{
        box-shadow:
        inset 0 0 140px rgba(255,0,0,.3);
    }

    50%{
        box-shadow:
        inset 0 0 220px rgba(255,0,0,.55);
    }
}

/* =============================
PARTICLE SYSTEM (MOUSE + FLOAT)
============================= */

#particles{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:9999;   /* VERY IMPORTANT */
}

/* Particle style */
/* Sharingan Overlay */

#sharinganContainer{
    position:fixed;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    pointer-events:none;
    z-index:10000;
    opacity:0;
}

.sharingan{
    width:260px;
    height:260px;
}

.draw{
    fill:none;
    stroke:red;
    stroke-width:4;
    stroke-dasharray:500;
    stroke-dashoffset:500;
}

/* Drawing animation */
@keyframes drawEye{
    to{
        stroke-dashoffset:0;
    }
}

@keyframes fadeOutEye{
    0%{ opacity:1; }
    100%{ opacity:0; }
}
.particle{
    position:absolute;
    width:4px;
    height:4px;
    background:red;
    border-radius:50%;

    box-shadow:
    0 0 12px red,
    0 0 25px red;

    transition:transform .3s linear;
    animation:particleFloat linear infinite;
}
#blackOverlay{
    position:fixed;
    inset:0;
    background:black;
    opacity:0;
    pointer-events:none;
    z-index:9998;  /* below sharingan but above everything else */
    transition:opacity .4s ease;
}
@keyframes particleFloat{
    from{
        transform:translateY(0) scale(1);
        opacity:1;
    }
    to{
        transform:translateY(-120vh) scale(0.2);
        opacity:0;
    }
}

/* =============================
HERO
============================= */

.hero{
    height:100vh;

    position:relative;

    background:
    linear-gradient(to bottom,
        rgba(0,0,0,.25),
        rgba(120,0,0,.75),
        black
    ),
    url("itachi.png");

    background-size:contain;
    background-repeat:no-repeat;
    background-position:center top;

    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;

    filter:brightness(1.4);
}

/* Glass panel */

.float{
    padding:50px;
    border-radius:28px;

    backdrop-filter:blur(16px);
    background:rgba(0,0,0,.35);

    box-shadow:
    0 0 60px rgba(255,0,0,.6),
    0 0 120px rgba(255,0,0,.3);

    margin-bottom:-500px;  

    animation:panelFloat 6s ease-in-out infinite;
}

@keyframes panelFloat{
    0%,100%{ transform:translateY(0); }
    50%{ transform:translateY(-22px); }
}

/* =============================
DASHBOARD
============================= */

.dashboard{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
    gap:30px;
    padding:60px;
}

.card{
    background:rgba(20,20,20,.9);
    padding:32px;
    border-radius:24px;

    transition:.35s;
    box-shadow:0 0 25px rgba(255,0,0,.25);
}

.card:hover{
    transform:translateY(-10px) scale(1.03);
    box-shadow:0 0 45px red;
}

/* =============================
COMMAND BUTTON (STATE GLOW)
============================= */

button{
    padding:18px 40px;
    border:none;
    border-radius:14px;
    cursor:pointer;

    font-weight:600;
    font-size:16px;

    background:linear-gradient(45deg,#ff0000,#800000);
    color:white;

    transition:.3s;

    box-shadow:0 0 30px rgba(255,0,0,.5);
}

button:hover{
    transform:scale(1.1);
}

/* Bot State Glow */

button.onState{
    box-shadow:
    0 0 20px #00ff88,
    0 0 40px #00ff88;
    background:linear-gradient(45deg,#00ff88,#008833);
}

</style>
</head>

<body>

<div id="particles"></div>

<section class="hero">

<div class="float">

<h1>Itachi 1.0</h1>
<p> Successfully connected to Exness</p>
<p>Activate the genjutsu</p>

<button onclick="toggleBot()" id="toggleBtn">Activate</button>

</div>

</section>

<section class="dashboard">

<div class="card">
<h2>Trades Taken</h2>
<p id="trades">0</p>
</div>

<div class="card">
<h2>Total Profit</h2>
<p id="profit">$0</p>
</div>

<div class="card">
<h2>Bot Status</h2>
<p id="status">Loading...</p>
</div>

</section>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import {
    getFirestore,
    doc,
    onSnapshot,
    setDoc
} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

/* Firebase */

const firebaseConfig = {
    apiKey: "AIzaSyBXHO3IQMudC1UXQvqDir3TyledQ6Pch1c",
    authDomain: "tradebot-control.firebaseapp.com",
    projectId: "tradebot-control",
    storageBucket: "tradebot-control.firebasestorage.app",
    messagingSenderId: "598223160537",
    appId: "1:598223160:web:b9ce67efa5e8458f046ac8"
};
function activateSharingan(){

    const overlay =
    document.getElementById("blackOverlay");

    const container =
    document.getElementById("sharinganContainer");

    const parts =
    document.querySelectorAll(".draw");

    // 1️⃣ Fade screen to black
    overlay.style.opacity = 1;

    setTimeout(()=>{

        // 2️⃣ Show Sharingan
        container.style.opacity = 1;

        parts.forEach(p=>{
            p.style.animation =
            "drawEye 0.8s ease forwards";
        });

    },300);

    // 3️⃣ Fade everything out
    setTimeout(()=>{

        container.style.animation =
        "fadeOutEye 1s ease forwards";

        overlay.style.opacity = 0;

    },1800);

    // 4️⃣ Reset
    setTimeout(()=>{

        container.style.opacity = 0;
        container.style.animation = "";

        parts.forEach(p=>{
            p.style.strokeDashoffset = 500;
            p.style.animation = "";
        });

    },2800);
}

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const botRef = doc(db,"bot","settings");

/* =============================
REALTIME LISTENER (NO POLLING)
============================= */

onSnapshot(botRef,(snap)=>{

    if(!snap.exists()) return;

    const data = snap.data();

    const status = data.status || "OFF";

    document.getElementById("status").innerText = status;

    const btn = document.getElementById("toggleBtn");

    if(status === "ON"){
        btn.classList.add("onState");
    }else{
        btn.classList.remove("onState");
    }
});

/* =============================
TOGGLE BOT
============================= */

window.toggleBot = async function(){

    activateSharingan();  // trigger animation first

    const currentStatus =
    document.getElementById("status").innerText;

    const newState =
    currentStatus === "ON" ? "OFF" : "ON";

    await setDoc(botRef,{
        status:newState
    },{merge:true});
};

/* =============================
PARTICLE SYSTEM
============================= */

function createParticles(){

    const container = document.getElementById("particles");

    for(let i=0;i<90;i++){

        let p = document.createElement("div");
        p.className = "particle";

        p.style.left = Math.random()*100 + "vw";
        p.style.top = Math.random()*100 + "vh";

        p.style.animationDuration =
        (3 + Math.random()*6) + "s";

        container.appendChild(p);
    }
}

createParticles();

/* Mouse reactive swarm */

document.addEventListener("mousemove",(e)=>{

    document.querySelectorAll(".particle").forEach(p=>{

        let dx = (Math.random()-0.5)*40;
        let dy = (Math.random()-0.5)*40;

        p.style.transform =
        `translate(${dx}px,${dy}px)`;
    });

});

</script>
<div id="blackOverlay"></div>
<div id="sharinganContainer">
<svg viewBox="0 0 200 200" class="sharingan">

    <!-- Outer Circle -->
    <circle cx="100" cy="100" r="80" class="draw"/>

    <!-- Inner Circle -->
    <circle cx="100" cy="100" r="30" class="draw"/>

    <!-- Tomoe (3 comma shapes simplified) -->
    <circle cx="100" cy="40" r="12" class="draw"/>
    <circle cx="55" cy="130" r="12" class="draw"/>
    <circle cx="145" cy="130" r="12" class="draw"/>

</svg>
</div>
</body>
</html>

